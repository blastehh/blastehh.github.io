(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{332:function(a,s,t){"use strict";t.r(s);var e=t(12),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"mounting"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mounting"}},[a._v("#")]),a._v(" Mounting")]),a._v(" "),s("p",[a._v("Notes on mounting stuff")]),a._v(" "),s("hr"),a._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#regular-disk"}},[a._v("Regular disk")]),s("ul",[s("li",[s("a",{attrs:{href:"#find-uuid"}},[a._v("Find UUID")])]),s("li",[s("a",{attrs:{href:"#add-disk-to-fstab-by-uuid"}},[a._v("Add disk to fstab by UUID")])])])]),s("li",[s("a",{attrs:{href:"#cifs"}},[a._v("CIFS")]),s("ul",[s("li",[s("a",{attrs:{href:"#install-library"}},[a._v("Install library")])]),s("li",[s("a",{attrs:{href:"#mount-command"}},[a._v("Mount command")])]),s("li",[s("a",{attrs:{href:"#fstab-entry"}},[a._v("fstab entry")])]),s("li",[s("a",{attrs:{href:"#smbcredentials-file"}},[a._v(".smbcredentials file")])]),s("li",[s("a",{attrs:{href:"#permissions-for-other-users"}},[a._v("Permissions for other users")])]),s("li",[s("a",{attrs:{href:"#cifs-auto-mount-using-kerberos"}},[a._v("CIFS Auto-mount Using Kerberos")])])])]),s("li",[s("a",{attrs:{href:"#nfs"}},[a._v("NFS")]),s("ul",[s("li",[s("a",{attrs:{href:"#install-library"}},[a._v("Install library")])]),s("li",[s("a",{attrs:{href:"#mount-command"}},[a._v("Mount command")])]),s("li",[s("a",{attrs:{href:"#fstab-entry"}},[a._v("fstab entry")])]),s("li",[s("a",{attrs:{href:"#show-nfs-exports-on-a-server"}},[a._v("Show nfs exports on a server")])]),s("li",[s("a",{attrs:{href:"#updated-exported-mounts"}},[a._v("Updated Exported Mounts")])])])])])]),s("p"),a._v(" "),s("h2",{attrs:{id:"regular-disk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#regular-disk"}},[a._v("#")]),a._v(" Regular disk")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mount")]),a._v(" /dev/sda1 /path/to/mount/target\n")])])]),s("h3",{attrs:{id:"find-uuid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#find-uuid"}},[a._v("#")]),a._v(" Find UUID")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("blkid\n")])])]),s("h3",{attrs:{id:"add-disk-to-fstab-by-uuid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-disk-to-fstab-by-uuid"}},[a._v("#")]),a._v(" Add disk to fstab by UUID")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("UUID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx /mount/location ext4 defaults "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n")])])]),s("h2",{attrs:{id:"cifs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cifs"}},[a._v("#")]),a._v(" CIFS")]),a._v(" "),s("h3",{attrs:{id:"install-library"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-library"}},[a._v("#")]),a._v(" Install library")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" cifs-utils\n")])])]),s("h3",{attrs:{id:"mount-command"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mount-command"}},[a._v("#")]),a._v(" Mount command")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mount")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" cifs //cifs.server/path /path/to/mount/target\n")])])]),s("h3",{attrs:{id:"fstab-entry"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fstab-entry"}},[a._v("#")]),a._v(" fstab entry")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("//cifs.server/path /path/to/mount/target cifs "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("credentials")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/etc/.smbcredentials,iocharset"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8,sec"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("ntlmssp,vers"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.0")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n")])])]),s("h3",{attrs:{id:"smbcredentials-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#smbcredentials-file"}},[a._v("#")]),a._v(" .smbcredentials file")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("username")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("user\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("password")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("plaintextpassword\n")])])]),s("h3",{attrs:{id:"permissions-for-other-users"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#permissions-for-other-users"}},[a._v("#")]),a._v(" Permissions for other users")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("//cifs.server/path /path/to/mount/target cifs "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("credentials")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/etc/.smbcredentials,iocharset"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8,sec"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("ntlmssp,vers"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3.0")]),a._v(",file_mode"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("0777,dir_mode"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("0777 "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n")])])]),s("h3",{attrs:{id:"cifs-auto-mount-using-kerberos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cifs-auto-mount-using-kerberos"}},[a._v("#")]),a._v(" CIFS Auto-mount Using Kerberos")]),a._v(" "),s("p",[a._v("This will automatically mount CIFS shares on a domain-joined linux machine")]),a._v(" "),s("h4",{attrs:{id:"install-packages"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-packages"}},[a._v("#")]),a._v(" Install packages")]),a._v(" "),s("p",[a._v("Install the packages "),s("code",[a._v("cifs-utils")]),a._v(" "),s("code",[a._v("keyutils")]),a._v(" "),s("code",[a._v("autofs")])]),a._v(" "),s("h4",{attrs:{id:"edit-config"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#edit-config"}},[a._v("#")]),a._v(" Edit config")]),a._v(" "),s("p",[a._v("Add the following line to "),s("code",[a._v("/etc/auto.master")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("/- /etc/auto.cifs\n")])])]),s("h4",{attrs:{id:"add-mounts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-mounts"}},[a._v("#")]),a._v(" Add mounts")]),a._v(" "),s("p",[a._v("Create a file at "),s("code",[a._v("/etc/auto.cifs")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("/mnt/path   -fstype=cifs,multiuser,cruid=${UID},sec=krb5,vers=3    ://storage-server.domain.tld/share-path\n")])])]),s("h4",{attrs:{id:"start-the-service"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#start-the-service"}},[a._v("#")]),a._v(" Start the service")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("systemctl enable autofs\nsystemctl start autofs\n")])])]),s("h2",{attrs:{id:"nfs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nfs"}},[a._v("#")]),a._v(" NFS")]),a._v(" "),s("h3",{attrs:{id:"install-library-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-library-2"}},[a._v("#")]),a._v(" Install library")]),a._v(" "),s("p",[a._v("Ubuntu/Debian")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" nfs-common\n")])])]),s("p",[a._v("Centos")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" nfs-utils\n")])])]),s("h3",{attrs:{id:"mount-command-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mount-command-2"}},[a._v("#")]),a._v(" Mount command")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mount")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" nfs "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.0")]),a._v(".0.1:/nfspool/share /path/to/mount/target\n")])])]),s("h3",{attrs:{id:"fstab-entry-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fstab-entry-2"}},[a._v("#")]),a._v(" fstab entry")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.0")]),a._v(".0.1:/nfspool/share /path/to/mount/target nfs rw,relatime,rsize"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("16384")]),a._v(",wsize"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("16384")]),a._v(",hard "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v("\n")])])]),s("h3",{attrs:{id:"show-nfs-exports-on-a-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#show-nfs-exports-on-a-server"}},[a._v("#")]),a._v(" Show nfs exports on a server")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("showmount "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.0")]),a._v(".0.1\n")])])]),s("h3",{attrs:{id:"updated-exported-mounts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#updated-exported-mounts"}},[a._v("#")]),a._v(" Updated Exported Mounts")]),a._v(" "),s("p",[a._v("use this after editing the /etc/exports file")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("exportfs "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ra")]),a._v("\n")])])]),s("MediumZoom")],1)}),[],!1,null,null,null);s.default=r.exports}}]);