(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{321:function(a,s,t){"use strict";t.r(s);var e=t(12),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"diagnostic-commands"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#diagnostic-commands"}},[a._v("#")]),a._v(" Diagnostic commands")]),a._v(" "),s("p",[a._v("Bunch of useful commands for checking your system.")]),a._v(" "),s("hr"),a._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#megaraid"}},[a._v("Megaraid")]),s("ul",[s("li",[s("a",{attrs:{href:"#get-raid-data"}},[a._v("Get raid data")])])])]),s("li",[s("a",{attrs:{href:"#smartctl"}},[a._v("Smartctl")]),s("ul",[s("li",[s("a",{attrs:{href:"#install-smartctl"}},[a._v("Install smartctl")])]),s("li",[s("a",{attrs:{href:"#using-sda-sdb-sdc"}},[a._v("Using sda/sdb/sdc")])]),s("li",[s("a",{attrs:{href:"#using-megaraid"}},[a._v("Using Megaraid")])]),s("li",[s("a",{attrs:{href:"#using-lsi-megaraid"}},[a._v("Using LSI Megaraid")])]),s("li",[s("a",{attrs:{href:"#using-nvme"}},[a._v("Using NVMe")])])])]),s("li",[s("a",{attrs:{href:"#fio"}},[a._v("FIO")]),s("ul",[s("li",[s("a",{attrs:{href:"#install-fio-first"}},[a._v("Install fio first")])]),s("li",[s("a",{attrs:{href:"#write-test"}},[a._v("Write test")])]),s("li",[s("a",{attrs:{href:"#read-test"}},[a._v("Read test")])]),s("li",[s("a",{attrs:{href:"#read-write-test-2-mins"}},[a._v("Read/Write test - 2 Mins")])]),s("li",[s("a",{attrs:{href:"#read-write-test-4gb"}},[a._v("Read/Write test - 4GB")])])])]),s("li",[s("a",{attrs:{href:"#lm-sensors"}},[a._v("lm-sensors")]),s("ul",[s("li",[s("a",{attrs:{href:"#install-lm-sensors"}},[a._v("Install lm-sensors")])])])]),s("li",[s("a",{attrs:{href:"#process-tree"}},[a._v("Process Tree")])]),s("li",[s("a",{attrs:{href:"#list-network-ports"}},[a._v("List Network Ports")])]),s("li",[s("a",{attrs:{href:"#ntp-stuff"}},[a._v("NTP Stuff")]),s("ul",[s("li",[s("a",{attrs:{href:"#force-check"}},[a._v("Force Check")])]),s("li",[s("a",{attrs:{href:"#useful-commands"}},[a._v("Useful commands")])])])]),s("li",[s("a",{attrs:{href:"#yum"}},[a._v("Yum")])]),s("li",[s("a",{attrs:{href:"#delete-dmraid-metadata"}},[a._v("Delete dmraid Metadata")])]),s("li",[s("a",{attrs:{href:"#curl-tricks"}},[a._v("Curl Tricks")]),s("ul",[s("li",[s("a",{attrs:{href:"#use-different-ip-for-domain"}},[a._v("Use different IP for domain")])])])])])]),s("p"),a._v(" "),s("h2",{attrs:{id:"megaraid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#megaraid"}},[a._v("#")]),a._v(" Megaraid")]),a._v(" "),s("h3",{attrs:{id:"get-raid-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-raid-data"}},[a._v("#")]),a._v(" Get raid data")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("MegaCli "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-CfgDsply")]),a._v(" -aAll"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" MegaCli "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-LDInfo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-LAll")]),a._v(" -aAll"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" MegaCli "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-PdList")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-aALL")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("egrep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Slot|Device Id|Inquiry Data"')]),a._v("\n")])])]),s("h2",{attrs:{id:"smartctl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#smartctl"}},[a._v("#")]),a._v(" Smartctl")]),a._v(" "),s("p",[a._v("Smartctl commands for checking the health of disks")]),a._v(" "),s("h3",{attrs:{id:"install-smartctl"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-smartctl"}},[a._v("#")]),a._v(" Install smartctl")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" smartmontools\n")])])]),s("h3",{attrs:{id:"using-sda-sdb-sdc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#using-sda-sdb-sdc"}},[a._v("#")]),a._v(" Using sda/sdb/sdc")]),a._v(" "),s("p",[a._v("Regular disks with the sda/sdb/sdc naming convention")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[a._v("i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" /dev/sd?"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),a._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" smartctl "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),a._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\n")])])]),s("h3",{attrs:{id:"using-megaraid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#using-megaraid"}},[a._v("#")]),a._v(" Using Megaraid")]),a._v(" "),s("p",[a._v("Disks connected via a Megaraid controller")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("smartctl "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--scan")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"megaraid,"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{ print $3 }'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sed")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'s/.*,([0-9]*)/\\1/g'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("while")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("read")]),a._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" Device "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$x")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("smartctl "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" megaraid,"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$x")]),a._v(" /dev/sda"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\n")])])]),s("h3",{attrs:{id:"using-lsi-megaraid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#using-lsi-megaraid"}},[a._v("#")]),a._v(" Using LSI Megaraid")]),a._v(" "),s("p",[a._v("Disk that require the storcli command. This assumes that the raid disk is being presented as "),s("code",[a._v("/dev/sda")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("storcli /call /dall show "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("awk")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'{ print $5 }'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-E")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"[0-9]{1,2}"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("while")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("read")]),a._v(" x"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" Device "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$x")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("smartctl "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" sat+megaraid,"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$x")]),a._v(" /dev/sda"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\n")])])]),s("h3",{attrs:{id:"using-nvme"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#using-nvme"}},[a._v("#")]),a._v(" Using NVMe")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("nvme list "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[a._v("i")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("in")]),a._v(" /dev/nvme?n1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),a._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" nvme smart-log "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),a._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" nvme smart-log-add "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$i")]),a._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\n")])])]),s("h2",{attrs:{id:"fio"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fio"}},[a._v("#")]),a._v(" FIO")]),a._v(" "),s("p",[a._v("Testing disk iops")]),a._v(" "),s("h3",{attrs:{id:"install-fio-first"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-fio-first"}},[a._v("#")]),a._v(" Install fio first")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" fio\n")])])]),s("h3",{attrs:{id:"write-test"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#write-test"}},[a._v("#")]),a._v(" Write test")]),a._v(" "),s("p",[a._v("Fixed runtime of 120 seconds")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("fio "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("rand-write "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--ioengine")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("libaio "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--iodepth")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("32")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--rw")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("randwrite "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--invalidate")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--bsrange")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("4k:4k,4k:4k "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--size")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("512m "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--runtime")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("120")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--time_based")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--do_verify")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--direct")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--group_reporting")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--numjobs")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n")])])]),s("h3",{attrs:{id:"read-test"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#read-test"}},[a._v("#")]),a._v(" Read test")]),a._v(" "),s("p",[a._v("Fixed runtime of 120 seconds")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("fio "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("rand-read "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--ioengine")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("libaio "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--iodepth")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("32")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--rw")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("randread "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--invalidate")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--bsrange")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("4k:4k,4k:4k "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--size")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("512m "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--runtime")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("120")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--time_based")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--do_verify")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--direct")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--group_reporting")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--numjobs")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n")])])]),s("h3",{attrs:{id:"read-write-test-2-mins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#read-write-test-2-mins"}},[a._v("#")]),a._v(" Read/Write test - 2 Mins")]),a._v(" "),s("p",[a._v("Fixed runtime of 120 seconds")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("fio "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("rand-rw "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--ioengine")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("libaio "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--iodepth")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("32")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--rw")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("randrw "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--invalidate")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--bsrange")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("4k:4k,4k:4k "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--size")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("512m "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--runtime")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("120")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--time_based")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--do_verify")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--direct")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--group_reporting")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--numjobs")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n")])])]),s("h3",{attrs:{id:"read-write-test-4gb"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#read-write-test-4gb"}},[a._v("#")]),a._v(" Read/Write test - 4GB")]),a._v(" "),s("p",[a._v("Creates a 4GB file in the current directory to test with")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("fio "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("test "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--ioengine")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("libaio "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--iodepth")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--rw")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("randrw "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--gtod_reduce")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--filename")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("test "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--bs")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("4k  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--size")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("4G "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--rwmixread")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("75")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--randrepeat")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--direct")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n")])])]),s("h2",{attrs:{id:"lm-sensors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lm-sensors"}},[a._v("#")]),a._v(" lm-sensors")]),a._v(" "),s("p",[a._v("Utility for checking the temperature sensors of your machine.")]),a._v(" "),s("h3",{attrs:{id:"install-lm-sensors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-lm-sensors"}},[a._v("#")]),a._v(" Install lm-sensors")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" update\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" lm-sensors\n")])])]),s("p",[a._v("Run the following command (Answer Y to all prompts):")]),a._v(" "),s("p",[s("code",[a._v("sensors-detect")])]),a._v(" "),s("p",[a._v("Finally, run the following command:")]),a._v(" "),s("p",[s("code",[a._v("sensors")])]),a._v(" "),s("h2",{attrs:{id:"process-tree"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#process-tree"}},[a._v("#")]),a._v(" Process Tree")]),a._v(" "),s("p",[a._v("Useful for finding out what started a process on your system.")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" auxf\n")])])]),s("h2",{attrs:{id:"list-network-ports"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#list-network-ports"}},[a._v("#")]),a._v(" List Network Ports")]),a._v(" "),s("p",[a._v("Alternative to "),s("code",[a._v("netstat")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ss "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-tulpn")]),a._v("\n")])])]),s("p",[s("code",[a._v("-t")]),a._v(" - TCP"),s("br"),a._v(" "),s("code",[a._v("-u")]),a._v(" - UDP"),s("br"),a._v(" "),s("code",[a._v("-l")]),a._v(" - Listening"),s("br"),a._v(" "),s("code",[a._v("-p")]),a._v(" - Process"),s("br"),a._v(" "),s("code",[a._v("-n")]),a._v(" - Do not resolve hostnames")]),a._v(" "),s("h2",{attrs:{id:"ntp-stuff"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ntp-stuff"}},[a._v("#")]),a._v(" NTP Stuff")]),a._v(" "),s("h3",{attrs:{id:"force-check"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#force-check"}},[a._v("#")]),a._v(" Force Check")]),a._v(" "),s("p",[a._v("CentOS6")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" ntpd stop"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" ntpd -gq"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" ntpd start\n")])])]),s("p",[a._v("OS not in the stone age")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("systemctl stop ntpd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" ntpd -gq"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" systemctl start ntpd\n")])])]),s("h3",{attrs:{id:"useful-commands"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#useful-commands"}},[a._v("#")]),a._v(" Useful commands")]),a._v(" "),s("p",[a._v("Show sync status")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ntpstat\n")])])]),s("p",[a._v("Force a sync")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ntpd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-gq")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-g")]),a._v(" ignore large "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("time")]),a._v(" differences\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-q")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exit")]),a._v(" ntpd after "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("otherwise it carries on running"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("p",[a._v("Show peers")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ntpq "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v("\n")])])]),s("p",[a._v("Query a server")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ntpdate "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-q")]),a._v(" pool.ntp.org\n")])])]),s("h2",{attrs:{id:"yum"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#yum"}},[a._v("#")]),a._v(" Yum")]),a._v(" "),s("p",[a._v("Issues with updating using Yum can be due to:")]),a._v(" "),s("ul",[s("li",[a._v("Time/Date setting")]),a._v(" "),s("li",[a._v("Out of date certificates")])]),a._v(" "),s("p",[a._v("Example error:")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("Error: Cannot retrieve metalink for repository: epel. Please verify its path and try again\n")])])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum clean all\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--disablerepo")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"epel"')]),a._v(" update nss ca-certificates\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum makecache\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" yum update\n")])])]),s("h2",{attrs:{id:"delete-dmraid-metadata"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#delete-dmraid-metadata"}},[a._v("#")]),a._v(" Delete dmraid Metadata")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DEVICE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/dev/sda\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("dd")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("if")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/dev/zero "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("of")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$DEVICE")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("bs")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("512")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("seek")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$((")]),a._v(" $"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("blockdev "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("getsz $DEVICE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1024")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("))")])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1024")]),a._v("\n")])])]),s("h2",{attrs:{id:"curl-tricks"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#curl-tricks"}},[a._v("#")]),a._v(" Curl Tricks")]),a._v(" "),s("h3",{attrs:{id:"use-different-ip-for-domain"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#use-different-ip-for-domain"}},[a._v("#")]),a._v(" Use different IP for domain")]),a._v(" "),s("p",[a._v("This is used instead of changing the host header.")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("curl -vI --resolve custom.domain.com:443:192.168.1.101 https://custom.domain.com\n")])])]),s("MediumZoom")],1)}),[],!1,null,null,null);s.default=r.exports}}]);